(function(){var s,j,p=function(a,b){if("function"===typeof document.addEventListener||d.isIE8()){var e=!1;try{e=a instanceof Element}catch(l){e=!!a&&1===e.nodeType}e||"string"===typeof a||(b=a);var f=this,g=f.classes,i=f.settings=d.merge(f.defaults,{attachTo:a},b||{}),e=f.container=d.make("div",{"class":g.container}),p=f.calendars=[],m=j().day(i.weekStart),r,t=[],k,n,y,s;k=[];var z;n=0;r=i.months;d.isIE8()&&d.addClassName(e,"ie8");for(n=7;n--;)t.push(m.format(i.columnHeaderFormat)),m.add("days",1);
D(f);if("object"===typeof i.subscribe)for(n in i.subscribe)i.subscribe.hasOwnProperty(n)&&f.subscribe(n,i.subscribe[n]);f._sel=[];i.selected&&f.setSelected(i.selected,!1);r=i.viewStartDate?j(i.viewStartDate,i.format):0<f._sel.length?j(f._sel[0]):j();f.viewStartDate=r.date(1);if((r={past:i.months-1,"today-past":i.months-1,any:2<i.months?Math.floor(i.months/2):0,"today-future":0,future:0}[this.settings.direction])&&j().month()==j(f.viewStartDate).month())f.viewStartDate=j(f.viewStartDate).subtract({M:r}).date(1);
if("function"===typeof i.blackout)f.blackout=i.blackout;else if(i.blackout){var B=A(i.blackout,i.parseSplitDelimiter,i.format);f.blackout=function(a){a=j(a).startOf("day").yearDay();if(1>a||!f._sel)return!1;for(var e=B.length;e--;)if(B[e].startOf("day").yearDay()===a)return!0;return!1}}else f.blackout=function(){return!1};f.direction=f.directions[i.direction]?f.directions[i.direction]:f.directions.any;for(r=Math.max(i.months,1);r--;){k=d.make("div",{"class":g.calendar},e);k.setAttribute("data-cal-index",
r);1<i.months&&(r==Math.max(i.months-1,1)?d.addClassName(k,g.monthFirst):0===r?d.addClassName(k,g.monthLast):d.addClassName(k,g.monthMiddle));n=d.make("div",{"class":g.title},k);i.useYearNav||d.addClassName(n,g.disableYearNav);d.make("a",{"class":g.previousYear},n);d.make("a",{"class":g.previousMonth},n);d.make("a",{"class":g.nextYear},n);d.make("a",{"class":g.nextMonth},n);m=d.make("span",{"class":g.caption},n);y=d.make("div",{"class":g.header},k);n=0;do z=d.make("span",{},y),z.innerHTML=t[n];while(7>
++n);y=d.make("div",{"class":g.days},k);n=0;k=[];do"week"==i.mode?(0===n%7&&(s=d.make("div",{"class":g.week+" clearfix"},y),k.push(s)),d.make("span",{},s)):k.push(d.make("span",{},y));while(42>++n);p.push({caption:m,days:k});r&&d.make("div",{"class":g.monthSeparator},e)}f.draw();d.addEvent(e,"mousedown",function(a,e){var b;if(d.hasClassName(e,g.nextMonth))!f.disableNext&&!1!==f.publish("view-changed",f,["next-month"])&&(f.viewStartDate.add("months",1),f.draw());else if(d.hasClassName(e,g.previousMonth))!f.disablePreviousMonth&&
!1!==f.publish("view-changed",f,["previous-month"])&&(f.viewStartDate.subtract("months",1),f.draw());else if(d.hasClassName(e,g.nextYear))!f.disableNext&&!1!==f.publish("view-changed",f,["next-year"])&&(f.viewStartDate.add("years",1),f.draw());else if(d.hasClassName(e,g.previousYear))!f.disablePreviousMonth&&!1!==f.publish("view-changed",f,["previous-year"])&&(f.viewStartDate.subtract("years",1),f.draw());else if((d.hasClassName(e.parentNode,g.days)||d.hasClassName(e.parentNode,g.week))&&d.hasClassName(e,
g.dayActive)&&(b=e.getAttribute("data-date"))){if(b=j(b,i.dayAttributeFormat).hours(12),!1!==f.publish("date-clicked",f,[b]))switch(i.mode){case "multiple":f.addSelected(b)||f.removeSelected(b);break;case "range":f.addSelected(b);break;case "week":f.weekSelected(b);break;default:f.addSelected(b)}}else if(d.hasClassName(e.parentNode,g.week)&&(b=e.getAttribute("data-date")))b=j(b,i.dayAttributeFormat).hours(12),!1!==f.publish("date-clicked",f,[b])&&"week"==i.mode&&f.weekSelected(b);return!1});(i.attachTo=
d.$(i.attachTo))&&i.attachTo.appendChild(e)}};p.prototype={defaults:{attachTo:null,months:1,weekStart:0,direction:"any",directionScrolling:!0,viewStartDate:null,blackout:null,selected:null,mode:"single",dayOutOfMonthClickable:!1,format:null,subscribe:null,columnHeaderFormat:"dd",titleFormat:"MMMM, YYYY",dayNumberFormat:"D",dayAttributeFormat:"YYYY-MM-DD",parseSplitDelimiter:/,\s*|\s+-\s+/,rangeDelimiter:" - ",multipleDelimiter:", ",useYearNav:!0,dateClassMap:{}},classes:{container:"kalendae",calendar:"k-calendar",
monthFirst:"k-first-month",monthMiddle:"k-middle-month",monthLast:"k-last-month",title:"k-title",previousMonth:"k-btn-previous-month",nextMonth:"k-btn-next-month",previousYear:"k-btn-previous-year",nextYear:"k-btn-next-year",caption:"k-caption",header:"k-header",days:"k-days",week:"k-week",dayOutOfMonth:"k-out-of-month",dayInMonth:"k-in-month",dayActive:"k-active",daySelected:"k-selected",dayInRange:"k-range",dayToday:"k-today",monthSeparator:"k-separator",disablePreviousMonth:"k-disable-previous-month-btn",
disableNextMonth:"k-disable-next-month-btn",disablePreviousYear:"k-disable-previous-year-btn",disableNextYear:"k-disable-next-year-btn",disableYearNav:"k-disable-year-nav"},disablePreviousMonth:!1,disableNextMonth:!1,disablePreviousYear:!1,disableNextYear:!1,directions:{past:function(a){return j(a).startOf("day").yearDay()>=s.yearDay()},"today-past":function(a){return j(a).startOf("day").yearDay()>s.yearDay()},any:function(){return!1},"today-future":function(a){return j(a).startOf("day").yearDay()<
s.yearDay()},future:function(a){return j(a).startOf("day").yearDay()<=s.yearDay()}},getSelectedAsDates:function(){for(var a=[],b=0,e=this._sel.length;b<e;b++)a.push(this._sel[b].toDate());return a},getSelectedAsText:function(a){for(var b=[],e=0,d=this._sel.length;e<d;e++)b.push(this._sel[e].format(a||this.settings.format||"YYYY-MM-DD"));return b},getSelectedRaw:function(){for(var a=[],b=0,e=this._sel.length;b<e;b++)a.push(j(this._sel[b]));return a},getSelected:function(a){a=this.getSelectedAsText(a);
switch(this.settings.mode){case "week":case "range":return a.splice(2),a.join(this.settings.rangeDelimiter);case "multiple":return a.join(this.settings.multipleDelimiter);default:return a[0]||null}},isSelected:function(a){a=j(a).startOf("day").yearDay();if(1>a||!this._sel||1>this._sel.length)return!1;switch(this.settings.mode){case "week":case "range":var b=this._sel[0]?this._sel[0].startOf("day").yearDay():0,e=this._sel[1]?this._sel[1].startOf("day").yearDay():0;return b===a||e===a?1:!b||!e?0:a>
b&&a<e||b<e&&a<b&&a>e?-1:!1;case "multiple":for(b=this._sel.length;b--;)if(this._sel[b].startOf("day").yearDay()===a)return!0;return!1;default:return this._sel[0]&&this._sel[0].startOf("day").yearDay()===a}},setSelected:function(a,b){var e,d=A(a,this.settings.parseSplitDelimiter,this.settings.format),f=A(this.getSelected(),this.settings.parseSplitDelimiter,this.settings.format);for(e=f.length;e--;)this.removeSelected(f[e],!1);for(e=d.length;e--;)this.addSelected(d[e],!1);!1!==b&&(d[0]&&(this.viewStartDate=
j(d[0],this.settings.format)),this.draw())},addSelected:function(a,b){a=j(a,this.settings.format).hours(12);this.settings.dayOutOfMonthClickable&&"range"!==this.settings.mode&&this.makeSelectedDateVisible(a);switch(this.settings.mode){case "multiple":if(this.isSelected(a))return!1;this._sel.push(a);break;case "range":1!==this._sel.length?this._sel=[a]:a.startOf("day").yearDay()>this._sel[0].startOf("day").yearDay()?this._sel[1]=a:this._sel=[a,this._sel[0]];break;default:this._sel=[a]}this._sel.sort(function(a,
b){return a.startOf("day").yearDay()-b.startOf("day").yearDay()});this.publish("change",this,[a]);!1!==b&&this.draw();return!0},weekSelected:function(a){var b=a.toDate(),e=j(b).startOf("week"),b=j(b).endOf("week").subtract("day",1);this._sel=[e,b];this.publish("change",this,[a.day()]);this.draw()},makeSelectedDateVisible:function(a){outOfViewMonth=j(a).date("1").diff(this.viewStartDate,"months");0>outOfViewMonth?this.viewStartDate.subtract("months",1):0<outOfViewMonth&&outOfViewMonth>=this.settings.months&&
this.viewStartDate.add("months",1)},removeSelected:function(a,b){for(var a=j(a,this.settings.format).hours(12),e=this._sel.length;e--;)if(this._sel[e].startOf("day").yearDay()===a.startOf("day").yearDay())return this._sel.splice(e,1),this.publish("change",this,[a]),!1!==b&&this.draw(),!0;return!1},draw:function(){var a=j(this.viewStartDate).startOf("day").hours(12),b,e=this.classes,l,f,g,i=0,p,m=0,r,t,k=this.settings;p=this.calendars.length;do{b=j(a).date(1);b.day(b.day()<this.settings.weekStart?
this.settings.weekStart-7:this.settings.weekStart);l=this.calendars[i];l.caption.innerHTML=a.format(this.settings.titleFormat);r=m=0;do"week"==k.mode?(0===m%7&&0!==m&&r++,f=l.days[r].childNodes[m%7]):f=l.days[m],g=[],(t=this.isSelected(b))&&g.push({"-1":e.dayInRange,1:e.daySelected,"true":e.daySelected}[t]),b.month()!=a.month()?g.push(e.dayOutOfMonth):g.push(e.dayInMonth),(!this.blackout(b)&&!(this.direction(b)||b.month()!=a.month()&&!1===k.dayOutOfMonthClickable)||0<t)&&g.push(e.dayActive),b.startOf("day").yearDay()===
s.yearDay()&&g.push(e.dayToday),t=b.format(this.settings.dayAttributeFormat),k.dateClassMap[t]&&g.push(k.dateClassMap[t]),f.innerHTML=b.format(k.dayNumberFormat),f.className=g.join(" "),f.setAttribute("data-date",t),b.add("days",1);while(42>++m);a.add("months",1)}while(++i<p);if(k.directionScrolling){b=j().startOf("day").hours(12);a=a.diff(b,"months",!0);if("today-past"===k.direction||"past"===k.direction)0>=a?(this.disableNextMonth=!1,d.removeClassName(this.container,e.disableNextMonth)):(this.disableNextMonth=
!0,d.addClassName(this.container,e.disableNextMonth));else if("today-future"===k.direction||"future"===k.direction)a>k.months?(this.disablePreviousMonth=!1,d.removeClassName(this.container,e.disablePreviousMonth)):(this.disablePreviousMonth=!0,d.addClassName(this.container,e.disablePreviousMonth));if("today-past"===k.direction||"past"===k.direction)-11>=a?(this.disableNextYear=!1,d.removeClassName(this.container,e.disableNextYear)):(this.disableNextYear=!0,d.addClassName(this.container,e.disableNextYear));
else if("today-future"===k.direction||"future"===k.direction)a>11+k.months?(this.disablePreviousYear=!1,d.removeClassName(this.container,e.disablePreviousYear)):(this.disablePreviousYear=!0,d.addClassName(this.container,e.disablePreviousYear))}}};var A=function(a,b,e){var l=[];"string"===typeof a?a=a.split(b):d.isArray(a)||(a=[a]);var b=a.length,f=0,g;do a[f]&&(g=j(a[f],e).hours(12),g.isValid()&&l.push(g));while(++f<b);return l};window.Kalendae=p;var d=p.util={isIE8:function(){return!(!/msie 8./i.test(navigator.appVersion)||
/opera/i.test(navigator.userAgent)||!window.ActiveXObject||!XDomainRequest||window.msPerformance)},$:function(a){return"string"==typeof a?document.getElementById(a):a},$$:function(a){return document.querySelectorAll(a)},make:function(a,b,e){var d,a=document.createElement(a);if(b)for(d in b)b.hasOwnProperty(d)&&a.setAttribute(d,b[d]);e&&e.appendChild(a);return a},isVisible:function(a){return 0<a.offsetWidth||0<a.offsetHeight},getStyle:function(a,b){var e;a.currentStyle?e=a.currentStyle[b]:window.getComputedStyle&&
(e=(e=window.getComputedStyle(a,null))?e[b]:"");return e},domReady:function(a){var b=document.readyState;"complete"===b||"interactive"===b?a():setTimeout(function(){d.domReady(a)},9)},addEvent:function(a,b,e){var d=function(b){var b=b||window.event,d=e.apply(a,[b,b.target||b.srcElement]);!1===d&&(b.preventDefault?b.preventDefault():(b.returnValue=!1,b.cancelBubble=!0));return d};a.attachEvent?a.attachEvent("on"+b,d):a.addEventListener(b,d,!1);return d},removeEvent:function(a,b,e){a.detachEvent?a.detachEvent("on"+
b,e):a.removeEventListener(b,e,!1)},fireEvent:function(a,b){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent(b,!1,!0);a.dispatchEvent(e)}else if(document.createEventObject)a.fireEvent("on"+b);else if("function"==typeof a["on"+b])a["on"+b]()},hasClassName:function(a,b){if(!(a=d.$(a)))return!1;var e=a.className;return 0<e.length&&(e==b||RegExp("(^|\\s)"+b+"(\\s|$)").test(e))},addClassName:function(a,b){if((a=d.$(a))&&!d.hasClassName(a,b))a.className+=(a.className?" ":"")+
b},removeClassName:function(a,b){if(a=d.$(a))a.className=d.trimString(a.className.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)")," "))},isFixed:function(a){do if("fixed"===d.getStyle(a,"position"))return!0;while(a=a.offsetParent);return!1},scrollContainer:function(a){do{var b=d.getStyle(a,"overflow");if("auto"===b||"scroll"===b)return a}while((a=a.parentNode)&&a!=window.document.body);return null},getPosition:function(a,b){var e=a.offsetLeft,d=a.offsetTop,f={};if(!b)for(;a=a.offsetParent;)e+=a.offsetLeft,
d+=a.offsetTop;f[0]=f.left=e;f[1]=f.top=d;return f},getHeight:function(a){return a.offsetHeight||a.scrollHeight},getWidth:function(a){return a.offsetWidth||a.scrollWidth},trimString:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},merge:function(){for(var a=!0===arguments[0],b={},e=a?1:0;e<arguments.length;e++){var d=b,f=arguments[e];if("object"===typeof f){var g=void 0;for(g in f)f.hasOwnProperty(g)&&(a&&"object"===typeof d[g]&&"object"===typeof f[g]?_update(d[g],f[g]):d[g]=f[g])}}return b},
isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)}};"function"===typeof document.addEventListener&&p.util.domReady(function(){for(var a=d.$$(".auto-kal"),b=a.length,e,l;b--;)e=a[b],l=e.getAttribute("data-kal"),l=null==l||""==l?{}:(new Function("return {"+l+"};"))(),"INPUT"===e.tagName?new p.Input(e,l):new p(d.merge(l,{attachTo:e}))});p.Input=function(a,b){if("function"===typeof document.addEventListener||d.isIE8()){var e=this.input=d.$(a),l,f,g=!1;if(!e||"INPUT"!==e.tagName)throw"First argument for Kalendae.Input must be an <input> element or a valid element id.";
var i=this,j=i.classes;f=i.settings=d.merge(i.defaults,b);this._events={};f.attachTo=window.document.body;f.selected?l=!0:f.selected=e.value;p.call(i,f);f.closeButton&&(f=d.make("a",{"class":j.closeButton},i.container),d.addEvent(f,"click",function(){e.blur()}));l&&(e.value=i.getSelected());l=i.container;var m=!1;l.style.display="none";d.addClassName(l,j.positioned);this._events.containerMouseDown=d.addEvent(l,"mousedown",function(){m=!0});this._events.documentMousedown=d.addEvent(window.document,
"mousedown",function(){m=!1});this._events.inputFocus=d.addEvent(e,"focus",function(){g=!0;i.setSelected(this.value);g=!1;i.show()});this._events.inputBlur=d.addEvent(e,"blur",function(){m&&d.isIE8()?(m=!1,e.focus()):i.hide()});this._events.inputKeyup=d.addEvent(e,"keyup",function(){g=!0;i.setSelected(this.value);g=!1});(j=d.scrollContainer(e))&&d.addEvent(j,"scroll",function(){e.blur()});i.subscribe("change",function(){g||(e.value=i.getSelected(),d.fireEvent(e,"change"))})}};p.Input.prototype=d.merge(p.prototype,
{defaults:d.merge(p.prototype.defaults,{format:"MM/DD/YYYY",side:"bottom",closeButton:!0,offsetLeft:0,offsetTop:0}),classes:d.merge(p.prototype.classes,{positioned:"k-floating",closeButton:"k-btn-close"}),show:function(){var a=this.container,b=a.style,e=this.input,l=d.getPosition(e),f=d.scrollContainer(e),f=f?f.scrollTop:0,g=this.settings;b.display="";switch(g.side){case "left":b.left=l.left-d.getWidth(a)+g.offsetLeft+"px";b.top=l.top+g.offsetTop-f+"px";break;case "right":b.left=l.left+d.getWidth(e)+
"px";b.top=l.top+g.offsetTop-f+"px";break;case "top":b.left=l.left+g.offsetLeft+"px";b.top=l.top-d.getHeight(a)+g.offsetTop-f+"px";break;default:b.left=l.left+g.offsetLeft+"px",b.top=l.top+d.getHeight(e)+g.offsetTop-f+"px"}b.position=d.isFixed(e)?"fixed":"absolute";this.publish("show",this)},hide:function(){this.container.style.display="none";this.publish("hide",this)},destroy:function(){var a=this.container,b=this.input;d.removeEvent(a,"mousedown",this._events.containerMousedown);d.removeEvent(window.document,
"mousedown",this._events.documentMousedown);d.removeEvent(b,"focus",this._events.inputFocus);d.removeEvent(b,"blur",this._events.inputBlur);d.removeEvent(b,"keyup",this._events.inputKeyup);a.remove()}});var D=function(a){a||(a=this);var b=a.c_||{};a.publish=function(a,d,f){for(var g=(a=b[a])?a.length:0,i;g--;)if(i=a[g].apply(d,f||[]),"boolean"===typeof i)return i};a.subscribe=function(a,d,f){b[a]||(b[a]=[]);f?b[a].push(d):b[a].unshift(d);return[a,d]};a.unsubscribe=function(a){for(var d=b[a[0]],a=
a[1],f=d?d.length:0;f--;)d[f]===a&&d.splice(f,1)}};(function(a){function b(c,u){return function(a){return m(c.call(this,a),u)}}function e(c,u){return function(a){return this.lang().ordinal(c.call(this,a),u)}}function d(){}function f(c){i(this,c)}function g(c){var u=c.years||c.year||c.y||0,a=c.months||c.month||c.M||0,b=c.weeks||c.week||c.w||0,e=c.days||c.day||c.d||0,d=c.hours||c.hour||c.h||0,f=c.minutes||c.minute||c.m||0,h=c.seconds||c.second||c.s||0,g=c.milliseconds||c.millisecond||c.ms||0;this._input=
c;this._milliseconds=g+1E3*h+6E4*f+36E5*d;this._days=e+7*b;this._months=a+12*u;this._data={};this._bubble()}function i(c,u){for(var a in u)u.hasOwnProperty(a)&&(c[a]=u[a]);return c}function j(c){return 0>c?Math.ceil(c):Math.floor(c)}function m(c,u){for(var a=c+"";a.length<u;)a="0"+a;return a}function p(c,a,b,e){var d=a._milliseconds,f=a._days,a=a._months,g,i;d&&c._d.setTime(+c._d+d*b);if(f||a)g=c.minute(),i=c.hour();f&&c.date(c.date()+f*b);a&&c.month(c.month()+a*b);d&&!e&&h.updateOffset(c);if(f||
a)c.minute(g),c.hour(i)}function t(c,a){var b=Math.min(c.length,a.length),e=Math.abs(c.length-a.length),d=0,f;for(f=0;f<b;f++)~~c[f]!==~~a[f]&&d++;return d+e}function k(c){return c?S[c]||c.toLowerCase().replace(/(.)s$/,"$1"):c}function n(c){if(!c)return h.fn._lang;if(!x[c]&&J)try{require("./lang/"+c)}catch(a){return h.fn._lang}return x[c]}function s(c,a){function b(a){return c.lang().longDateFormat(a)||a}for(var e=5;e--&&K.test(a);)a=a.replace(K,b);if(!F[a]){var e=F,d=a,f=a,h=f.match(L),g,i;g=0;for(i=
h.length;g<i;g++)h[g]=v[h[g]]?v[h[g]]:h[g].match(/\[.*\]/)?h[g].replace(/^\[|\]$/g,""):h[g].replace(/\\/g,"");e[d]=function(c){var a="";for(g=0;g<i;g++)a+=h[g]instanceof Function?h[g].call(c,f):h[g];return a}}return F[a](c)}function A(c,a){switch(c){case "DDDD":return T;case "YYYY":return U;case "YYYYY":return V;case "S":case "SS":case "SSS":case "DDD":return W;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return X;case "a":case "A":return n(a._l)._meridiemParse;case "X":return Y;case "Z":case "ZZ":return G;
case "T":return Z;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return aa;default:return RegExp(c.replace("\\",""))}}function z(c){var c=((G.exec(c)||[])[0]+"").match(ba)||["-",0,0],a=+(60*c[1])+~~c[2];return"+"===c[0]?-a:a}function B(c){var a,b=[];if(!c._d){for(a=0;7>a;a++)c._a[a]=b[a]=null==c._a[a]?2===a?1:0:c._a[a];b[3]+=~~((c._tzm||0)/60);b[4]+=~~((c._tzm||0)%60);a=new Date(0);c._useUTC?(a.setUTCFullYear(b[0],
b[1],b[2]),a.setUTCHours(b[3],b[4],b[5],b[6])):(a.setFullYear(b[0],b[1],b[2]),a.setHours(b[3],b[4],b[5],b[6]));c._d=a}}function E(c){var a=c._f.match(L),b=c._i,e,d;c._a=[];for(e=0;e<a.length;e++)if((d=(A(a[e],c).exec(b)||[])[0])&&(b=b.slice(b.indexOf(d)+d.length)),v[a[e]]){var f=c,h=void 0,g=f._a;switch(a[e]){case "M":case "MM":g[1]=null==d?0:~~d-1;break;case "MMM":case "MMMM":h=n(f._l).monthsParse(d);null!=h?g[1]=h:f._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=d&&(g[2]=~~d);
break;case "YY":g[0]=~~d+(68<~~d?1900:2E3);break;case "YYYY":case "YYYYY":g[0]=~~d;break;case "a":case "A":f._isPm=n(f._l).isPM(d);break;case "H":case "HH":case "h":case "hh":g[3]=~~d;break;case "m":case "mm":g[4]=~~d;break;case "s":case "ss":g[5]=~~d;break;case "S":case "SS":case "SSS":g[6]=~~(1E3*("0."+d));break;case "X":f._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":f._useUTC=!0,f._tzm=z(d)}null==d&&(f._isValid=!1)}b&&(c._il=b);c._isPm&&12>c._a[3]&&(c._a[3]+=12);!1===c._isPm&&12===c._a[3]&&
(c._a[3]=0);B(c)}function D(c,a,b,d,e){return e.relativeTime(a||1,!!b,c,d)}function C(c,a,b){a=b-a;b-=c.day();b>a&&(b-=7);b<a-7&&(b+=7);c=h(c).add("d",b);return{week:Math.ceil(c.dayOfYear()/7),year:c.year()}}function M(c){var b=c._i,d=c._f;if(null===b||""===b)return null;"string"===typeof b&&(c._i=b=n().preparse(b));if(h.isMoment(b))c=i({},b),c._d=new Date(+b._d);else if(d)if("[object Array]"===Object.prototype.toString.call(d)){var b=c,e,g,j=99,k;for(k=0;k<b._f.length;k++)e=i({},b),e._f=b._f[k],
E(e),d=new f(e),e=t(e._a,d.toArray()),d._il&&(e+=d._il.length),e<j&&(j=e,g=d);i(b,g)}else E(c);else if(g=c,b=g._i,d=ca.exec(b),b===a)g._d=new Date;else if(d)g._d=new Date(+d[1]);else if("string"===typeof b)if(b=g._i,d=da.exec(b)){g._f="YYYY-MM-DD"+(d[2]||" ");for(d=0;4>d;d++)if(N[d][1].exec(b)){g._f+=N[d][0];break}G.exec(b)&&(g._f+=" Z");E(g)}else g._d=new Date(b);else"[object Array]"===Object.prototype.toString.call(b)?(g._a=b.slice(0),B(g)):g._d=b instanceof Date?new Date(+b):new Date(b);return new f(c)}
function O(c,a){h.fn[c]=h.fn[c+"s"]=function(c){var b=this._isUTC?"UTC":"";return null!=c?(this._d["set"+b+a](c),h.updateOffset(this),this):this._d["get"+b+a]()}}function ea(c){h.duration.fn[c]=function(){return this._data[c]}}function P(c,a){h.duration.fn["as"+c]=function(){return+this/a}}for(var h,w=Math.round,q,x={},J="undefined"!==typeof module&&module.exports,ca=/^\/?Date\((\-?\d+)/i,fa=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,
K=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aa=/\d\d?/,W=/\d{1,3}/,T=/\d{3}/,U=/\d{1,4}/,V=/[+\-]?\d{1,6}/,X=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,G=/Z|[\+\-]\d\d:?\d\d/i,Z=/T/i,Y=/[\+\-]?\d+(\.\d{1,3})?/,da=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,N=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ba=
/([\+\-]|\d\d)/gi,H=["Date","Hours","Minutes","Seconds","Milliseconds"],I={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},S={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},F={},Q="DDD w W M D d".split(" "),R="MDHhmswW".split(""),v={M:function(){return this.month()+1},MMM:function(c){return this.lang().monthsShort(this,c)},MMMM:function(c){return this.lang().months(this,c)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},
d:function(){return this.day()},dd:function(c){return this.lang().weekdaysMin(this,c)},ddd:function(c){return this.lang().weekdaysShort(this,c)},dddd:function(c){return this.lang().weekdays(this,c)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return m(this.weekYear(),
5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},
S:function(){return~~(this.milliseconds()/100)},SS:function(){return m(~~(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},Z:function(){var c=-this.zone(),a="+";0>c&&(c=-c,a="-");return a+m(~~(c/60),2)+":"+m(~~c%60,2)},ZZ:function(){var c=-this.zone(),a="+";0>c&&(c=-c,a="-");return a+m(~~(10*c/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};Q.length;)q=Q.pop(),v[q+"o"]=e(v[q],q);for(;R.length;)q=R.pop(),
v[q+q]=b(v[q],2);v.DDDD=b(v.DDD,3);d.prototype={set:function(c){var a,b;for(b in c)a=c[b],"function"===typeof a?this[b]=a:this["_"+b]=a},_months:"January February March April May June July August September October November December".split(" "),months:function(c){return this._months[c.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(c){return this._monthsShort[c.month()]},monthsParse:function(c){var a,b;this._monthsParse||(this._monthsParse=[]);
for(a=0;12>a;a++)if(this._monthsParse[a]||(b=h([2E3,a]),b="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[a]=RegExp(b.replace(".",""),"i")),this._monthsParse[a].test(c))return a},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(c){return this._weekdays[c.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(c){return this._weekdaysShort[c.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(c){return this._weekdaysMin[c.day()]},
weekdaysParse:function(c){var a,b;this._weekdaysParse||(this._weekdaysParse=[]);for(a=0;7>a;a++)if(this._weekdaysParse[a]||(b=h([2E3,1]).day(a),b="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[a]=RegExp(b.replace(".",""),"i")),this._weekdaysParse[a].test(c))return a},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(c){var a=this._longDateFormat[c];!a&&this._longDateFormat[c.toUpperCase()]&&
(a=this._longDateFormat[c.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(c){return c.slice(1)}),this._longDateFormat[c]=a);return a},isPM:function(c){return"p"===(c+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(c,a,b){return 11<c?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(c,a){var b=this._calendar[c];return"function"===
typeof b?b.apply(a):b},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(c,a,b,d){var e=this._relativeTime[b];return"function"===typeof e?e(c,a,b,d):e.replace(/%d/i,c)},pastFuture:function(c,a){var b=this._relativeTime[0<c?"future":"past"];return"function"===typeof b?b(a):b.replace(/%s/i,a)},ordinal:function(c){return this._ordinal.replace("%d",
c)},_ordinal:"%d",preparse:function(c){return c},postformat:function(c){return c},week:function(c){return C(c,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};h=function(c,a,b){return M({_i:c,_f:a,_l:b,_isUTC:!1})};h.utc=function(c,a,b){return M({_useUTC:!0,_isUTC:!0,_l:b,_i:c,_f:a})};h.unix=function(c){return h(1E3*c)};h.duration=function(c,a){var b=h.isDuration(c),d="number"===typeof c,e=b?c._input:d?{}:c,f=fa.exec(c);d?a?e[a]=c:e.milliseconds=c:f&&(d="-"===f[1]?-1:1,e={y:0,d:~~f[2]*d,
h:~~f[3]*d,m:~~f[4]*d,s:~~f[5]*d,ms:~~f[6]*d});f=new g(e);b&&c.hasOwnProperty("_lang")&&(f._lang=c._lang);return f};h.version="2.1.0";h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";h.updateOffset=function(){};h.lang=function(c,a){if(!c)return h.fn._lang._abbr;a?(a.abbr=c,x[c]||(x[c]=new d),x[c].set(a)):x[c]||n(c);h.duration.fn._lang=h.fn._lang=n(c)};h.langData=function(c){c&&(c._lang&&c._lang._abbr)&&(c=c._lang._abbr);return n(c)};h.isMoment=function(c){return c instanceof f};h.isDuration=function(c){return c instanceof
g};h.fn=f.prototype={clone:function(){return h(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return s(h(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},
isValid:function(){null==this._isValid&&(this._isValid=this._a?!t(this._a,(this._isUTC?h.utc(this._a):h(this._a)).toArray()):!isNaN(this._d.getTime()));return!!this._isValid},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(c){c=s(this,c||h.defaultFormat);return this.lang().postformat(c)},add:function(c,a){var b;b="string"===typeof c?h.duration(+a,c):h.duration(c,a);p(this,b,1);return this},subtract:function(c,a){var b;b="string"===typeof c?
h.duration(+a,c):h.duration(c,a);p(this,b,-1);return this},diff:function(c,a,b){var c=this._isUTC?h(c).zone(this._offset||0):h(c).local(),d=6E4*(this.zone()-c.zone()),e,a=k(a);"year"===a||"month"===a?(e=432E5*(this.daysInMonth()+c.daysInMonth()),d=12*(this.year()-c.year())+(this.month()-c.month()),d+=(this-h(this).startOf("month")-(c-h(c).startOf("month")))/e,d-=6E4*(this.zone()-h(this).startOf("month").zone()-(c.zone()-h(c).startOf("month").zone()))/e,"year"===a&&(d/=12)):(e=this-c,d="second"===
a?e/1E3:"minute"===a?e/6E4:"hour"===a?e/36E5:"day"===a?(e-d)/864E5:"week"===a?(e-d)/6048E5:e);return b?d:j(d)},from:function(c,a){return h.duration(this.diff(c)).lang(this.lang()._abbr).humanize(!a)},fromNow:function(c){return this.from(h(),c)},calendar:function(){var c=this.diff(h().startOf("day"),"days",!0);return this.format(this.lang().calendar(-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse",this))},isLeapYear:function(){var c=this.year();return 0===
c%4&&0!==c%100||0===c%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(c){var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=c?"string"===typeof c&&(c=this.lang().weekdaysParse(c),"number"!==typeof c)?this:this.add({d:c-a}):a},month:function(c){var a=this._isUTC?"UTC":"",b;if(null!=c){if("string"===typeof c&&(c=this.lang().monthsParse(c),"number"!==typeof c))return this;b=this.date();this.date(1);this._d["set"+
a+"Month"](c);this.date(Math.min(b,this.daysInMonth()));h.updateOffset(this);return this}return this._d["get"+a+"Month"]()},startOf:function(a){a=k(a);switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);return this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:
"millisecond";return+this.clone().startOf(b)>+h(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+h(a).startOf(b)},isSame:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)===+h(a).startOf(b)},min:function(a){a=h.apply(null,arguments);return a<this?this:a},max:function(a){a=h.apply(null,arguments);return a>this?this:a},zone:function(a){var b=this._offset||0;if(null!=a)"string"===typeof a&&(a=z(a)),16>Math.abs(a)&&
(a*=60),this._offset=a,this._isUTC=!0,b!==a&&p(this,h.duration(b-a,"m"),1,!0);else return this._isUTC?b:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return h.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=w((h(this).startOf("day")-h(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=C(this,this.lang()._week.dow,
this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=C(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=C(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-
7)},lang:function(b){if(b===a)return this._lang;this._lang=n(b);return this}};for(q=0;q<H.length;q++)O(H[q].toLowerCase().replace(/s$/,""),H[q]);O("year","FullYear");h.fn.days=h.fn.day;h.fn.months=h.fn.month;h.fn.weeks=h.fn.week;h.fn.isoWeeks=h.fn.isoWeek;h.fn.toJSON=h.fn.toISOString;h.duration.fn=g.prototype={_bubble:function(){var a=this._milliseconds,b=this._days,d=this._months,e=this._data;e.milliseconds=a%1E3;a=j(a/1E3);e.seconds=a%60;a=j(a/60);e.minutes=a%60;a=j(a/60);e.hours=a%24;b+=j(a/24);
e.days=b%30;d+=j(b/30);e.months=d%12;b=j(d/12);e.years=b},weeks:function(){return j(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(a){var b=+this,d;d=!a;var e=this.lang(),f=w(Math.abs(b)/1E3),g=w(f/60),h=w(g/60),i=w(h/24),j=w(i/365),f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===h&&["h"]||22>h&&["hh",h]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",w(i/30)]||1===j&&["y"]||["yy",
j];f[2]=d;f[3]=0<b;f[4]=e;d=D.apply({},f);a&&(d=this.lang().pastFuture(b,d));return this.lang().postformat(d)},add:function(a,b){var d=h.duration(a,b);this._milliseconds+=d._milliseconds;this._days+=d._days;this._months+=d._months;this._bubble();return this},subtract:function(a,b){var d=h.duration(a,b);this._milliseconds-=d._milliseconds;this._days-=d._days;this._months-=d._months;this._bubble();return this},get:function(a){a=k(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=k(a);return this["as"+
a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:h.fn.lang};for(q in I)I.hasOwnProperty(q)&&(P(q,I[q]),ea(q.toLowerCase()));P("Weeks",6048E5);h.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};h.lang("en",{ordinal:function(a){var b=a%10;return a+(1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}});J&&(module.exports=h);"undefined"===typeof ender&&(this.moment=h);"function"===typeof define&&define.amd&&define("moment",[],function(){return h});
this.moment=h}).call("undefined"===typeof p?window:p);if(!p.moment)if(window.moment)p.moment=window.moment;else throw"Kalendae requires moment.js. You must use kalendae.standalone.js if moment is not available on the page.";j=p.moment;j.fn.yearDay=function(a){var b=Math.floor(this._d/864E5);return"undefined"===typeof a?b:this.add({d:a-b})};s=p.moment().startOf("day");if("undefined"!==typeof jQuery&&("function"===typeof document.addEventListener||d.isIE8()))jQuery.fn.kalendae=function(a){this.each(function(b,
d){"INPUT"===d.tagName?$(d).data("kalendae",new p.Input(d,a)):$(d).data("kalendae",new p($.extend({},{attachTo:d},a)))});return this}})();
